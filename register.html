<!DOCTYPE html>
<html lang="zh_CN">
    <head>
			  <meta charset="utf-8">
				<meta name="viewport" content="width=device-width, height=device-height, initial-scale=1">
				<meta http-equiv="X-UA-Compatible" content="IE=edge">
			  <title>Register</title>

				<link rel="stylesheet" type="text/css" href="bootstrap/css/bootstrap.min.css">
				<link rel="stylesheet" type="text/css" href="bootstrap/css/register.css"
		</head>

		<body>
        <div class="register-page">
					  <form class="form-horizontal" id="form" name="form">
								<div class="form-group">
		                <label for="exampleInputEmail2">邮箱</label>
		                <input type="email" class="form-control" name="email">
	              </div>
	              <div class="form-group">
		                <label for="exampleInputPassword1">密码</label>
		                <input type="password" class="form-control" name="password">
	              </div>
                <div class="form-group">
                    <label for="exampleInputPassword2">确认密码</label>
                    <input type="password" class="form-control" name="confirm_password">
                </div>

						</form>
						<div class="register-button">
								<div class="row">
										<div class="col-md-6">
												<button id="register" type="submit" class="btn btn-success">Register</button>
										</div>
										<div class="col-md-6">
												<button id="goback_loginpage" type="submit" class="btn btn-success">Go Back</button>
										</div>
								</div>
						</div>
				</div>

        <script src="bootstrap/js/jquery-3.1.1.min.js"></script>

        <!--jquery实现点击按钮跳转到新的页面-->
        <script type="text/javascript">
            $(document).ready(function(){
                $("#goback_loginpage").click(function(){
                    location.href="index.php";
                });
            });
            $("#register").click(function(){
                var data = new FormData($("#form")[0]);
                $.ajax({
                    url: 'do-register.php',
                    type: 'POST',
                    dataType: 'JSON',
                    data: data,
                    cache: false,
                    processData: false,
                    contentType: false
                }).done(function(data){
                    switch (data) {
                      case 0:
                        alert("注册成功");
                        window.location.href="index.php";
                        break;
                      case 1:
                        alert("注册失败");
                        break;
                      case 2:
                        alert("两次输出的密码不一致");
                        break;
                      case 3:
                        alert("请补全表单");
                        break;
                      case 4:
                        alert("无效的email格式");
                        break;
                    }
                })
            })
        </script>
		</body>
<html>
